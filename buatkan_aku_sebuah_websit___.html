<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk Indira üéÄ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pink: #f48fb1;
            --dark-pink: #ad1457;
            --light-pink: #fce4ec;
            --paper-color: #fffbf0;
        }

        body {
            background-color: #fce4ec;
            /* Cute Polka Dot Background */
            background-image: radial-gradient(#f8bbd0 20%, transparent 20%), radial-gradient(#f8bbd0 20%, transparent 20%);
            background-position: 0 0, 25px 25px;
            background-size: 50px 50px;
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1500px;
            cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'  width='40' height='48' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>üíñ</text></svg>") 16 0, auto; /* Custom Cursor */
        }

        /* Floating Clouds Background */
        .cloud {
            position: absolute;
            background: white;
            border-radius: 50px;
            opacity: 0.6;
            animation: floatCloud linear infinite;
            z-index: 0;
        }
        
        .cloud::after, .cloud::before {
            content: '';
            position: absolute;
            background: white;
            border-radius: 50%;
        }

        @keyframes floatCloud {
            from { transform: translateX(-200px); }
            to { transform: translateX(120vw); }
        }

        /* Book Container */
        .book-wrapper {
            position: relative;
            width: 320px;
            height: 480px;
            transition: transform 1s ease-in-out;
            transform-style: preserve-3d;
            z-index: 10;
        }

        @media (min-width: 768px) {
            .book-wrapper {
                width: 420px;
                height: 580px;
            }
        }

        /* The Book */
        .book {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1.5s cubic-bezier(0.25, 1, 0.5, 1);
            cursor: pointer;
            box-shadow: 20px 20px 30px rgba(173, 20, 87, 0.2);
        }

        /* Pages */
        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transform-origin: left center;
            transition: transform 1.5s cubic-bezier(0.25, 1, 0.5, 1);
            backface-visibility: hidden;
            border-radius: 10px 20px 20px 10px;
        }

        /* Front Cover - Pink Diary Style */
        .front-cover {
            background: linear-gradient(135deg, #f06292 0%, #ec407a 100%);
            color: white;
            z-index: 20;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 4px solid #f8bbd0;
            box-shadow: inset 5px 0 10px rgba(0,0,0,0.1);
        }
        
        /* Stitching Effect */
        .front-cover::before {
            content: '';
            position: absolute;
            top: 15px; bottom: 15px; left: 15px; right: 15px;
            border: 2px dashed #fce4ec;
            border-radius: 5px 15px 15px 5px;
            opacity: 0.7;
            pointer-events: none;
        }

        /* Spine shadow */
        .front-cover::after {
            content: '';
            position: absolute;
            left: 0; top: 0; bottom: 0; width: 20px;
            background: linear-gradient(to right, rgba(255,255,255,0.3), transparent);
            border-radius: 10px 0 0 10px;
        }

        /* Inside Left */
        .inside-left {
            background-color: var(--paper-color);
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23f48fb1' fill-opacity='0.2' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
            z-index: 19;
            transform: rotateY(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset -10px 0 20px rgba(0,0,0,0.05);
            border: 1px solid #f8bbd0;
        }

        /* Inside Right */
        .inside-right {
            background-color: var(--paper-color);
            /* Pink Lines */
            background-image: linear-gradient(#f8bbd0 1px, transparent 1px);
            background-size: 100% 2rem;
            z-index: 10;
            padding: 2rem;
            box-shadow: inset 10px 0 20px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            border-left: 1px solid #f06292;
            border-radius: 5px 20px 20px 5px;
        }

        /* Open States */
        .book-open .book { transform: translateX(50%); }
        .book-open .front-cover { transform: rotateY(-180deg); }
        .book-open .inside-left { z-index: 30; }

        /* Typography */
        .handwritten {
            font-family: 'Dancing Script', cursive;
            line-height: 2rem;
            font-size: 1.5rem;
            color: var(--dark-pink);
            text-shadow: 1px 1px 0px rgba(255,255,255,0.5);
            /* Scrollbar handling */
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #f48fb1 transparent;
        }

        .handwritten::-webkit-scrollbar {
            width: 6px;
        }
        .handwritten::-webkit-scrollbar-thumb {
            background-color: #f48fb1;
            border-radius: 20px;
        }

        .typing-cursor::after {
            content: 'üå∏';
            animation: blink 1s infinite;
            font-size: 1rem;
            vertical-align: middle;
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* Next Button */
        .next-btn {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            pointer-events: none;
        }
        .next-btn.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        /* Cute Stickers/Decorations */
        .sticker {
            position: absolute;
            font-size: 2.5rem;
            filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.1));
            animation: wiggle 3s ease-in-out infinite;
            z-index: 25;
            pointer-events: none;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        /* Hint Text */
        .hint-text {
            position: absolute;
            bottom: -50px;
            width: 100%;
            text-align: center;
            color: var(--dark-pink);
            font-weight: bold;
            font-size: 1rem;
            background: white;
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: 0 4px 10px rgba(173, 20, 87, 0.1);
            animation: bounce 2s infinite;
            opacity: 1;
            transition: opacity 0.5s;
        }
        .book-open ~ .hint-text { opacity: 0; }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        /* Sparkle Trail */
        .sparkle {
            position: absolute;
            pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f06292'%3E%3Cpath d='M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z'/%3E%3C/svg%3E");
            background-size: cover;
            animation: sparkleAnim 1s linear forwards;
            z-index: 100;
        }
        @keyframes sparkleAnim {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(1) rotate(180deg); opacity: 0; }
        }

        /* Floating Hearts Animation */
        .heart-float {
            position: absolute;
            color: #ec407a;
            top: 100%;
            animation: floatUp 6s linear infinite;
            opacity: 0;
            z-index: 1;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translateY(-110vh) scale(1.5) rotate(360deg); opacity: 0; }
        }

        /* Final Screen */
        #final-screen {
            position: fixed; inset: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            z-index: 100;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            opacity: 0; pointer-events: none;
            transition: opacity 0.8s ease;
        }
        #final-screen.active { opacity: 1; pointer-events: auto; }

    </style>
</head>
<body>

    <!-- Background Clouds -->
    <div style="position: absolute; width: 100%; height: 100%; overflow: hidden; pointer-events: none;">
        <div class="cloud" style="width: 120px; height: 40px; top: 10%; left: -10%; animation-duration: 25s;"></div>
        <div class="cloud" style="width: 180px; height: 60px; top: 30%; left: -20%; animation-duration: 35s; animation-delay: 5s;"></div>
        <div class="cloud" style="width: 100px; height: 35px; top: 70%; left: -15%; animation-duration: 20s; animation-delay: 2s;"></div>
    </div>

    <!-- Floating Hearts Container -->
    <div id="hearts-container" class="absolute inset-0 pointer-events-none overflow-hidden"></div>

    <div class="book-wrapper" id="bookWrapper">
        
        <!-- Cute Stickers Decorating the wrapper -->
        <div class="sticker" style="top: -30px; left: -20px; animation-delay: 0s;">üéÄ</div>
        <div class="sticker" style="bottom: -20px; right: -30px; animation-delay: 1s;">üß∏</div>
        <div class="sticker" style="top: 40%; right: -50px; animation-delay: 0.5s;">‚ú®</div>

        <div class="book" id="myBook">
            <!-- Front Cover -->
            <div class="page front-cover">
                <div class="bg-white/20 backdrop-blur-sm p-6 rounded-xl border-2 border-white/40 shadow-lg text-center transform transition hover:scale-105 duration-300">
                    <div class="text-4xl mb-2">üíå</div>
                    <h1 class="text-4xl md:text-5xl font-bold text-white drop-shadow-md font-['Dancing_Script']">Cerita<br>Kita</h1>
                    <div class="w-16 h-1 bg-white mx-auto my-3 rounded-full opacity-80"></div>
                    <p class="text-white text-sm font-semibold tracking-widest uppercase">Untuk Indira</p>
                </div>
                <div class="mt-8 text-white animate-pulse text-sm font-bold bg-pink-600/30 px-4 py-1 rounded-full">
                    Ketuk untuk membuka üíñ
                </div>
            </div>

            <!-- Inside Left -->
            <div class="page inside-left">
                <div class="text-center p-4 relative w-full h-full flex flex-col justify-center items-center">
                    <!-- Tape effect -->
                    <div class="absolute top-16 bg-pink-200/50 w-32 h-8 rotate-3 z-10 mx-auto"></div>
                    
                    <div class="w-40 h-40 md:w-48 md:h-48 bg-white p-2 shadow-lg rotate-[-3deg] transition hover:rotate-0 duration-500">
                        <div class="w-full h-full bg-pink-100 overflow-hidden relative">
                            <img src="https://images.unsplash.com/photo-1518895949257-7621c3c786d7?q=80&w=300&auto=format&fit=crop" alt="Cute Flowers" class="object-cover w-full h-full opacity-90">
                        </div>
                    </div>
                    <p class="font-bold text-[#ad1457] text-lg mt-6 font-['Dancing_Script']">"You are my favorite notification"</p>
                    <div class="text-2xl mt-2">üòª</div>
                </div>
            </div>

            <!-- Inside Right (Content) -->
            <div class="page inside-right">
                <div class="h-full flex flex-col">
                    <div class="text-right text-xs text-pink-400 font-bold mb-2">Page 1 of ‚àû</div>
                    <div id="poem-container" class="handwritten flex-grow pt-2 relative">
                        <!-- Text types here -->
                    </div>
                    
                    <div class="mt-auto pb-2 flex justify-center">
                        <button id="nextBtn" class="next-btn bg-[#ec407a] hover:bg-[#d81b60] text-white px-6 py-2 rounded-full font-bold text-sm transition-all shadow-lg hover:shadow-pink-300/50 flex items-center gap-2 transform active:scale-95">
                            Lanjut Baca
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="hint-text">
             üìñ Klik bukunya ya cantik!
        </div>
    </div>

    <!-- Final Screen -->
    <div id="final-screen">
        <div class="bg-white p-8 rounded-3xl shadow-2xl border-4 border-pink-200 text-center max-w-md mx-4 relative overflow-hidden">
            <div class="absolute -top-10 -left-10 w-32 h-32 bg-pink-100 rounded-full opacity-50"></div>
            <div class="absolute -bottom-10 -right-10 w-32 h-32 bg-pink-100 rounded-full opacity-50"></div>
            
            <h2 class="text-4xl text-[#ad1457] font-bold mb-2 font-['Dancing_Script']">Terima Kasih</h2>
            <div class="text-5xl my-4 animate-bounce">üíù</div>
            <p class="text-lg text-gray-600 mb-6 font-semibold">Telah menjadi bagian terindah dari ceritaku.</p>
            <button onclick="location.reload()" class="bg-pink-100 text-pink-600 px-6 py-2 rounded-full hover:bg-pink-200 transition font-bold text-sm">Baca Ulang ‚Ü∫</button>
        </div>
    </div>

    <script>
        const book = document.getElementById('myBook');
        const bookWrapper = document.getElementById('bookWrapper');
        const poemContainer = document.getElementById('poem-container');
        const nextBtn = document.getElementById('nextBtn');
        const finalScreen = document.getElementById('final-screen');
        
        let isOpen = false;
        let isTyping = false;

        // The Poem (Updated for a cuter vibe)
        const poemLines = [
            "Hai, Indira sayang! üëã",
            "",
            "Di antara miliaran manusia,",
            "Cuma kamu yang bikin aku",
            "senyum-senyum sendiri.",
            "",
            "Semoga hari-harimu selalu",
            "semanis gulali dan seindah",
            "bunga yang bermekaran. üå∏",
            "",
            "Tetaplah bersinar, Indira! ‚ú®"
        ];

        // Typewriter Logic
        async function typeWriter() {
            isTyping = true;
            poemContainer.innerHTML = '<span class="typing-cursor"></span>';
            const cursor = poemContainer.querySelector('.typing-cursor');

            for (let lineIndex = 0; lineIndex < poemLines.length; lineIndex++) {
                const line = poemLines[lineIndex];
                
                const lineDiv = document.createElement('div');
                if (line === "") lineDiv.innerHTML = "&nbsp;"; 
                poemContainer.insertBefore(lineDiv, cursor);

                for (let i = 0; i < line.length; i++) {
                    lineDiv.innerHTML += line.charAt(i);
                    // Random typing speed for natural feel
                    await new Promise(r => setTimeout(r, Math.random() * 50 + 30)); 
                }
                
                // Auto scroll if content gets too long
                poemContainer.scrollTop = poemContainer.scrollHeight;

                await new Promise(r => setTimeout(r, 400));
            }

            cursor.remove();
            
            // Add GIF after typing finishes
            const gifDiv = document.createElement('div');
            gifDiv.style.textAlign = 'center';
            gifDiv.style.marginTop = '10px';
            gifDiv.style.opacity = '0';
            gifDiv.style.transition = 'opacity 1s ease';
            
            const gifImg = document.createElement('img');
            gifImg.src = "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExaWQwcng2MDM5eTNpdmJrY2F6ZncwYWM1d2dqYzA4emlocnR4ZzBvMCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/4nwpVtU1zyxan7Lq2F/giphy.gif";
            gifImg.style.width = '100px'; 
            gifImg.style.borderRadius = '10px';
            gifImg.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
            gifImg.style.display = 'inline-block';
            
            gifDiv.appendChild(gifImg);
            poemContainer.appendChild(gifDiv);

            // Fade in GIF and scroll to it
            setTimeout(() => {
                gifDiv.style.opacity = '1';
                poemContainer.scrollTop = poemContainer.scrollHeight;
            }, 100);
            
            setTimeout(() => {
                nextBtn.classList.add('show');
            }, 1000);
        }

        // Book Click Event
        book.addEventListener('click', () => {
            if (!isOpen) {
                isOpen = true;
                bookWrapper.classList.add('book-open');
                
                // Burst of sparkles on open
                for(let i=0; i<20; i++) {
                    setTimeout(() => createSparkleAt(window.innerWidth/2 + (Math.random()*200 - 100), window.innerHeight/2 + (Math.random()*200 - 100)), i*50);
                }

                setTimeout(() => {
                    if (!isTyping) {
                        typeWriter();
                        startHeartRain();
                    }
                }, 1200);
            }
        });

        nextBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            finalScreen.classList.add('active');
        });

        // Mouse Sparkle Effect
        document.addEventListener('mousemove', function(e) {
            if(Math.random() > 0.85) { // Don't create on every frame
                createSparkleAt(e.pageX, e.pageY);
            }
        });

        function createSparkleAt(x, y) {
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.width = Math.random() * 20 + 10 + 'px';
            sparkle.style.height = sparkle.style.width;
            document.body.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 1000);
        }

        // Background Hearts Rain
        function startHeartRain() {
            const container = document.getElementById('hearts-container');
            const colors = ['#f8bbd0', '#f48fb1', '#f06292', '#ec407a'];
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('heart-float');
                heart.innerHTML = Math.random() > 0.5 ? '‚ù§' : 'üå∏';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = Math.random() * 20 + 15 + 'px';
                heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                heart.style.animationDuration = Math.random() * 3 + 4 + 's';
                container.appendChild(heart);

                setTimeout(() => {
                    heart.remove();
                }, 8000);
            }, 400);
        }
    </script>
</body>
</html>